<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Extract a 'data.frame' containing MS data</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for extractMsData,OnDiskMSnExp-method {xcms}"><tr><td>extractMsData,OnDiskMSnExp-method {xcms}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Extract a <code>data.frame</code> containing MS data</h2>

<h3>Description</h3>

<p>Extract a <code>data.frame</code> of retention time, mz and intensity
values from each file/sample in the provided rt-mz range (or for the full
data range if <code>rt</code> and <code>mz</code> are not defined).
</p>


<h3>Usage</h3>

<pre>
## S4 method for signature 'OnDiskMSnExp'
extractMsData(object, rt, mz, msLevel = 1L)

## S4 method for signature 'XCMSnExp'
extractMsData(object, rt, mz, msLevel = 1L,
  adjustedRtime = hasAdjustedRtime(object))
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p>A <code>XCMSnExp</code> or <code>OnDiskMSnExp</code> object.</p>
</td></tr>
<tr valign="top"><td><code>rt</code></td>
<td>
<p><code>numeric(2)</code> with the retention time range from which the
data should be extracted.</p>
</td></tr>
<tr valign="top"><td><code>mz</code></td>
<td>
<p><code>numeric(2)</code> with the mz range.</p>
</td></tr>
<tr valign="top"><td><code>msLevel</code></td>
<td>
<p><code>integer</code> defining the MS level(s) to which the data
should be sub-setted prior to extraction; defaults to
<code>msLevel = 1L</code>.</p>
</td></tr>
<tr valign="top"><td><code>adjustedRtime</code></td>
<td>
<p>(for <code>extractMsData,XCMSnExp</code>): <code>logical(1)</code>
specifying if adjusted or raw retention times should be reported.
Defaults to adjusted retention times, if these are present in
<code>object</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> of length equal to the number of samples/files in
<code>object</code>. Each element being a <code>data.frame</code> with columns
<code>"rt"</code>, <code>"mz"</code> and <code>"i"</code> with the retention time, mz and
intensity tuples of a file. If no data is available for the mz-rt range
in a file a <code>data.frame</code> with 0 rows is returned for that file.
</p>


<h3>Author(s)</h3>

<p>Johannes Rainer
</p>


<h3>See Also</h3>

<p><code><a href="XCMSnExp-class.html">XCMSnExp</a></code> for the data object.
<code><a href="plotMsData.html">plotMsData</a></code> to plot the data for a single file.
</p>


<h3>Examples</h3>

<pre>
## Read some files from the test data package.
library(faahKO)
library(xcms)
fls &lt;- dir(system.file("cdf/KO", package = "faahKO"), recursive = TRUE,
           full.names = TRUE)
raw_data &lt;- readMSData(fls[1:2], mode = "onDisk")

## Read the full MS data for a defined mz-rt region.
res &lt;- extractMsData(raw_data, mz = c(300, 320), rt = c(2700, 2900))

## We've got one data.frame per file
length(res)

## With number of rows:
nrow(res[[1]])

head(res[[1]])
</pre>

<hr /><div style="text-align: center;">[Package <em>xcms</em> version 3.0.2 <a href="00Index.html">Index</a>]</div>
</body></html>
